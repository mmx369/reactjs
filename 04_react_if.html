<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>React</title>
<!-- Загрузим React. -->
<!-- Примечание: для деплоя на продакшен замените окончание «development.js» на «production.min.js». -->
<script src="https://unpkg.com/react@16/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
<!-- Не использовать в продакшн. -->
<script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
</head>

<body>

<div id="root"></div>

<script type="text/babel">

class ListArr extends React.Component {
  constructor(){
    super();
    this.state = {items:[1, 2, 3, 4, 5], text:''};
 }
//сформируем список
  showList(){
    const list = this.state.items.map((item, index)=>{
      return <li key={index}>{item}</li>;
    });
//обновим стейт
  this.setState({text:<ul>{list}</ul>});
  }

 render(){
  return <div>
  {this.state.text}
  <button onClick={this.showList.bind(this)}>показать список</button>
  </div>;
 }
}

class Arr extends React.Component {
  constructor () {
  super();
  this.state = {items: [1, 2, 3, 4, 5]};
  }

  render(){
    const list = this.state.items.map((item, index) => {
    return <li key={index}>{item}</li>;
  });
    return <ul>{list}</ul>;
    }
  }

class GreetMore extends React.Component {
  constructor() {
    super();
    this.state = {show:false};
    }

  toggleText() {
    this.setState({show: !this.state.show});
  }

  render() {
    if (this.state.show) {
      var message = <p>Привет!</p>;
    }

  return <div>
  {message}
  <button onClick={this.toggleText.bind(this)}>нажми на меня</button>
  </div>;
  }
}


class App extends React.Component {
  constructor() {
    super();
    this.state = {hello: true};
  }

  changeText() {
    this.setState({hello: false});
  }

  render() {
    return <div>
    {this.state.hello ? 'привет': 'пока'}
    <button onClick={this.changeText.bind(this)}>нажми на меня</button>
    <GreetMore/>
    <Arr/>
    <ListArr/>
    </div>;
  }
}


ReactDOM.render(
  <App />,
  document.getElementById('root')
  );

</script>
</body>
</html>
